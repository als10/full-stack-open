{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","methods","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","update","put","Filter","filter","handleFilterChange","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","handleClick","name","number","onClick","Persons","persons","map","Notification","message","successStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","Object","keys","length","style","success","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personService","initialPersons","notify","setTimeout","personsToShow","toLowerCase","startsWith","event","target","preventDefault","includes","window","confirm","find","p","updatedPerson","returnedPerson","catch","error","updatePerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.891c550f.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\n\nconst create = newObject => axios.post(baseUrl, newObject).then(response => response.data)\n\nconst remove = id => axios.delete(`${baseUrl}/${id}`)\n\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n\nconst methods = { getAll, create, remove, update }\nexport default methods","import React from 'react';\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <form>\n        <div>\n          filter shown with<input\n                              value={filter}\n                              onChange={handleFilterChange}\n                            />\n        </div>\n    </form>\n  )\n}\n\nexport default Filter","import React from 'react';\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n        <div>\n          name: <input\n                  value={props.newName}\n                  onChange={props.handleNameChange}\n                />\n        </div>\n        <div>\n          number: <input \n                    value={props.newNumber}\n                    onChange={props.handleNumberChange}\n                  />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react';\n\nconst Person = ({ person, handleClick }) => {\n    return (\n        <div>\n            {person.name} {person.number}\n            <button onClick={handleClick}>delete</button>\n        </div>\n    )\n}\n\nconst Persons = ({ persons, handleClick }) => {\n  return (\n    <div>\n        {persons.map(person => {\n          return (<Person \n                    key={person.id} \n                    person={person} \n                    handleClick={() => handleClick(person.id)}\n                  />\n          )\n        })}\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message }) => {\n    const successStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    const errorStyle = {...successStyle, color: 'red'}\n\n    if (Object.keys(message).length === 0) {\n      return null\n    }\n  \n    return (\n      <div style={message.success ? successStyle : errorStyle}>\n        {message.message}\n      </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState({})\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons))\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const notify = (message, success) => {\n    setMessage(\n      { message: message, success: success }\n    )\n    setTimeout(() => setMessage({}), 5000)\n  }\n\n  const updatePerson = (id) => {\n    const result = window.confirm(\n      `${newName} is already added to phonebook, replace the old number with a new one?`\n    )\n    \n    if (!result) return\n\n    const person = persons.find(p => p.id === id)\n    const updatedPerson = {...person, number: newNumber}\n    personService\n      .update(id, updatedPerson)\n      .then(returnedPerson => {\n        setPersons(\n          persons.map(\n            person => person.id === id\n                      ? returnedPerson\n                      : person\n          )\n        )\n        notify(`Changed ${updatedPerson.name}'s number`, true)\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch(error => {\n        if (error.response.data.error.includes('Validation')) {\n          notify(error.response.data.error, false)\n        }\n        else {\n          notify(`Information of ${updatedPerson.name} has already been removed from the server`, false)\n          setPersons(persons.filter(person => person.id !== id))\n        }\n      })\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (newName === '' || newNumber === '') return\n\n    if (persons.map(person => person.name).includes(newName)) {\n      updatePerson(persons.find(p => p.name === newName).id)\n      return\n    }\n\n    const person = {\n      name: newName,\n      number: newNumber\n    }\n\n    personService\n      .create(person)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        notify(`Added ${person.name}`, true)\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch(error => {\n        notify(error.response.data.error, false)\n      })\n  }\n\n  const deletePerson = (id) => {\n    const name = persons.find(person => person.id === id).name\n    const result = window.confirm(\n      `Delete ${name}?`\n    )\n    if (!result) return\n    personService\n      .remove(id)\n      .then(() => {\n        notify(`Deleted ${name}`, true)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n  }\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().startsWith(filter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} />\n\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons persons={personsToShow} handleClick={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}