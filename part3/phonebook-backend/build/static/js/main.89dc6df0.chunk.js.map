{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","methods","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","update","put","Filter","filter","handleFilterChange","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","handleClick","name","number","onClick","Persons","persons","map","Notification","message","successStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","Object","keys","length","style","success","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personService","initialPersons","personsToShow","toLowerCase","startsWith","event","target","preventDefault","includes","window","confirm","find","p","updatedPerson","returnedPerson","setTimeout","catch","error","updatePerson","concat","ReactDOM","render","document","getElementById"],"mappings":"wKACMA,EAAU,eAWDC,EADC,CAAEC,OARH,kBAAMC,IAAMC,IAAIJ,GAASK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQxCC,OANX,SAAAC,GAAS,OAAIN,IAAMO,KAAKV,EAASS,GAAWJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAMnDI,OAJnB,SAAAC,GAAE,OAAIT,IAAMU,OAAN,UAAgBb,EAAhB,YAA2BY,KAINE,OAF3B,SAACF,EAAIH,GAAL,OAAmBN,IAAMY,IAAN,UAAaf,EAAb,YAAwBY,GAAMH,GAAWJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,U,OCMtFS,EAbA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,mBACxB,OACE,+BACI,oDACmB,uBACGC,MAAOF,EACPG,SAAUF,UCgBzBG,EAtBI,SAACC,GAClB,OACE,uBAAMC,SAAUD,EAAME,UAAtB,UACI,yCACQ,uBACEL,MAAOG,EAAMG,QACbL,SAAUE,EAAMI,sBAG1B,2CACU,uBACEP,MAAOG,EAAMK,UACbP,SAAUE,EAAMM,wBAG5B,8BACE,wBAAQC,KAAK,SAAb,uBChBJC,EAAS,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,YACtB,OACI,gCACKD,EAAOE,KADZ,IACmBF,EAAOG,OACtB,wBAAQC,QAASH,EAAjB,wBAoBGI,EAfC,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,QAASL,EAAkB,EAAlBA,YAC1B,OACE,8BACKK,EAAQC,KAAI,SAAAP,GACX,OAAQ,cAAC,EAAD,CAEEA,OAAQA,EACRC,YAAa,kBAAMA,EAAYD,EAAOnB,MAFjCmB,EAAOnB,UCUjB2B,EAxBM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACdC,EAAe,CACjBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAGZC,EAAU,2BAAOR,GAAP,IAAqBC,MAAO,QAE5C,OAAoC,IAAhCQ,OAAOC,KAAKX,GAASY,OAChB,KAIP,qBAAKC,MAAOb,EAAQc,QAAUb,EAAeQ,EAA7C,SACGT,EAAQA,WC0HFe,EAxIH,WACV,MAAgCC,mBAAS,IAAzC,mBAAQnB,EAAR,KAAiBoB,EAAjB,KACA,EAAgCD,mBAAS,IAAzC,mBAAQ/B,EAAR,KAAiBiC,EAAjB,KACA,EAAoCF,mBAAS,IAA7C,mBAAQ7B,EAAR,KAAmBgC,EAAnB,KACA,EAA4BH,mBAAS,IAArC,mBAAOvC,EAAP,KAAe2C,EAAf,KACA,EAA8BJ,mBAAS,IAAvC,mBAAOhB,EAAP,KAAgBqB,EAAhB,KAEAC,qBAAU,WACRC,EACG7D,SACAG,MAAK,SAAA2D,GAAc,OAAIP,EAAWO,QACpC,IAEH,IAgGMC,EAAgB5B,EAAQpB,QAAO,SAAAc,GAAM,OAAIA,EAAOE,KAAKiC,cAAcC,WAAWlD,EAAOiD,kBAE3F,OACE,gCACE,2CAEA,cAAC,EAAD,CAAc1B,QAASA,IAEvB,cAAC,EAAD,CAAQvB,OAAQA,EAAQC,mBAhGD,SAACkD,GAC1BR,EAAUQ,EAAMC,OAAOlD,UAiGrB,2CAEA,cAAC,EAAD,CACEK,UAxDY,SAAC4C,GAGjB,GAFAA,EAAME,iBAEU,KAAZ7C,GAAgC,KAAdE,EAEtB,GAAIU,EAAQC,KAAI,SAAAP,GAAM,OAAIA,EAAOE,QAAMsC,SAAS9C,IA9C7B,SAACb,GAKpB,GAJe4D,OAAOC,QAAP,UACVhD,EADU,2EAIf,CAEA,IAAMM,EAASM,EAAQqC,MAAK,SAAAC,GAAC,OAAIA,EAAE/D,KAAOA,KACpCgE,EAAa,2BAAO7C,GAAP,IAAeG,OAAQP,IAC1CoC,EACGjD,OAAOF,EAAIgE,GACXvE,MAAK,SAAAwE,GACJpB,EACEpB,EAAQC,KACN,SAAAP,GAAM,OAAIA,EAAOnB,KAAOA,EACZiE,EACA9C,MAGhB8B,EACE,CACErB,QAAQ,WAAD,OAAaoC,EAAc3C,KAA3B,aACPqB,SAAS,IAGbwB,YAAW,kBAAMjB,EAAW,MAAK,KACjCH,EAAW,IACXC,EAAa,OAEdoB,OAAM,SAAAC,GACLnB,EACE,CACErB,QAAQ,kBAAD,OAAoBoC,EAAc3C,KAAlC,6CACPqB,SAAS,IAGbwB,YAAW,kBAAMjB,EAAW,MAAK,KACjCJ,EAAWpB,EAAQpB,QAAO,SAAAc,GAAM,OAAIA,EAAOnB,KAAOA,UAUpDqE,CAAa5C,EAAQqC,MAAK,SAAAC,GAAC,OAAIA,EAAE1C,OAASR,KAASb,QADrD,CAKA,IAAMmB,EAAS,CACbE,KAAMR,EACNS,OAAQP,GAGVoC,EACGvD,OAAOuB,GACP1B,MAAK,SAAAwE,GACJpB,EAAWpB,EAAQ6C,OAAOL,IAC1BhB,EACE,CACErB,QAAQ,SAAD,OAAWT,EAAOE,MACzBqB,SAAS,IAGbwB,YAAW,kBAAMjB,EAAW,MAAK,KACjCH,EAAW,IACXC,EAAa,SA8BblC,QAASA,EACTC,iBA/GmB,SAAC0C,GACxBV,EAAWU,EAAMC,OAAOlD,QA+GpBQ,UAAWA,EACXC,mBA7GqB,SAACwC,GAC1BT,EAAaS,EAAMC,OAAOlD,UA+GxB,yCAEA,cAAC,EAAD,CAASkB,QAAS4B,EAAejC,YAlChB,SAACpB,GACL4D,OAAOC,QAAP,iBACHpC,EAAQqC,MAAK,SAAA3C,GAAM,OAAIA,EAAOnB,KAAOA,KAAIqB,KADtC,OAIf8B,EACGpD,OAAOC,GACPP,MAAK,kBACJoD,EAAWpB,EAAQpB,QAAO,SAAAc,GAAM,OAAIA,EAAOnB,KAAOA,gBC7G1DuE,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.89dc6df0.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\n\nconst create = newObject => axios.post(baseUrl, newObject).then(response => response.data)\n\nconst remove = id => axios.delete(`${baseUrl}/${id}`)\n\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n\nconst methods = { getAll, create, remove, update }\nexport default methods","import React from 'react';\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <form>\n        <div>\n          filter shown with<input\n                              value={filter}\n                              onChange={handleFilterChange}\n                            />\n        </div>\n    </form>\n  )\n}\n\nexport default Filter","import React from 'react';\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n        <div>\n          name: <input\n                  value={props.newName}\n                  onChange={props.handleNameChange}\n                />\n        </div>\n        <div>\n          number: <input \n                    value={props.newNumber}\n                    onChange={props.handleNumberChange}\n                  />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react';\n\nconst Person = ({ person, handleClick }) => {\n    return (\n        <div>\n            {person.name} {person.number}\n            <button onClick={handleClick}>delete</button>\n        </div>\n    )\n}\n\nconst Persons = ({ persons, handleClick }) => {\n  return (\n    <div>\n        {persons.map(person => {\n          return (<Person \n                    key={person.id} \n                    person={person} \n                    handleClick={() => handleClick(person.id)}\n                  />\n          )\n        })}\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message }) => {\n    const successStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    const errorStyle = {...successStyle, color: 'red'}\n\n    if (Object.keys(message).length === 0) {\n      return null\n    }\n  \n    return (\n      <div style={message.success ? successStyle : errorStyle}>\n        {message.message}\n      </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState({})\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons))\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const updatePerson = (id) => {\n    const result = window.confirm(\n      `${newName} is already added to phonebook, replace the old number with a new one?`\n    )\n    \n    if (!result) return\n\n    const person = persons.find(p => p.id === id)\n    const updatedPerson = {...person, number: newNumber}\n    personService\n      .update(id, updatedPerson)\n      .then(returnedPerson => {\n        setPersons(\n          persons.map(\n            person => person.id === id\n                      ? returnedPerson\n                      : person\n          )\n        )\n        setMessage(\n          {\n            message: `Changed ${updatedPerson.name}'s number`,\n            success: true\n          }\n        )\n        setTimeout(() => setMessage({}), 5000)\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch(error => {\n        setMessage(\n          {\n            message: `Information of ${updatedPerson.name} has already been removed from the server`,\n            success: false\n          }\n        )\n        setTimeout(() => setMessage({}), 5000)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (newName === '' || newNumber === '') return\n\n    if (persons.map(person => person.name).includes(newName)) {\n      updatePerson(persons.find(p => p.name === newName).id)\n      return\n    }\n\n    const person = {\n      name: newName,\n      number: newNumber\n    }\n\n    personService\n      .create(person)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setMessage(\n          {\n            message: `Added ${person.name}`,\n            success: true\n          }\n        )\n        setTimeout(() => setMessage({}), 5000)\n        setNewName('')\n        setNewNumber('')\n      })\n  }\n\n  const deletePerson = (id) => {\n    const result = window.confirm(\n      `Delete ${persons.find(person => person.id === id).name}?`\n    )\n    if (!result) return\n    personService\n      .remove(id)\n      .then(() =>\n        setPersons(persons.filter(person => person.id !== id))\n      )\n  }\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().startsWith(filter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} />\n\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons persons={personsToShow} handleClick={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}